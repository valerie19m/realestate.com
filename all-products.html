<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Serif+Display:ital@0;1&family=Martian+Mono:wght@100..800&family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Oswald:wght@200..700&family=Passion+One:wght@400;700;900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    
    <title>Document</title>
     <style>
        *{
            margin:0;
            padding:0;
        }
        
        nav .btn{
            background-color: #e5e5e5;
            border: none;
            color: black;
        }
        nav .btn:hover{
            background-color: grey;
        }
        nav{
            background-color: white;
        }

        .logo{
           height: 100px;
           width: 100px;
           border-radius: 50px;
        }

        .s1 {
    background-image: url("https://images.pexels.com/photos/13620065/pexels-photo-13620065.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2 ");
    height: 480px;
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center 30%;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-top: -60px;
    border-radius: 10px;
  }

  .overlay {
    background-color: rgba(255, 255, 255, 0.2); 
    border-radius: 10px;
    padding: 30px;
  }

  .overlay h1 {
    font-size: 4rem;
    font-weight: 500;
    margin: 0;
    letter-spacing: 1px;
    font-family: "DM Serif Display", serif;
  }
        .s1 .btn{
            width:80px;
            height:50px;
            background-color: #e5e5e5;
        }
         .btn-group .btn:hover {
  background-color: rgb(0, 0, 0) !important;
  color: white !important;
}


.btn-group .btn.selected {
  background-color: white !important;
  color: black !important;
}

        .btn1 {
        border-top-left-radius: 10px;
        border-bottom-left-radius:0;
        border-bottom-right-radius:0;
        border-top-right-radius:0;
         }

        .btn3 {
        border-top-right-radius: 10px;
        border-bottom-left-radius:0;
        border-bottom-right-radius:0;
        border-top-left-radius:0;
            }
        .btn2{
        border-radius: 0;
          }

          .s1 .btn{
            height: 37px;
          }

          
        nav .bti{
            height: 30px;
        }
        nav .btns button{
            padding: 5px;
        }

         .s3 .crd {
    margin: 1px;
    overflow: hidden;
    border-radius: 10px;
    background-color: #f8f9fa;
    width: 350px;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
    height: 390px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    margin-top: 40px;
}

 .s3 .crd .img-container {
  width: 330px;
  height: 230px;
  position: relative; 
}

.s3 .crd .img-container img {
  position: absolute;
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 10px;
}

  .s3 .crd:hover{
     transform: translateY(-8px);
     transition: transform 0.3s ease;
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
   }
    .s3 .crd .crd-top{
    background-size: cover;
    background-position: center;
    border-radius: 10px;
    overflow: hidden;
    margin-top: 10px;
    }
    .s3 .crd .crd-b{
        padding: 10px;
    }
    .s3 .price{
        font-size: 20px;
        color: rgb(222, 68, 68);
    }


.s3 .icon {
    width: 25px;
    height: 25px;
}

.txt1{
    font-size: 20px;
}
.txt2{
    font-size: 14px;
    margin-top: 5px;
}


                  .s6 .img2{
           height: 100px;
       }

       .s6 {
           font-size: 14px;
           padding-inline: 60px;
           margin-top: 100px;
           background-color: #e5e5e5;
           border-radius: 10px;
           padding: 20px;
           width: 98%;
           margin-left: 15px;
       }

       .s6 .icon{
           height: 20px;
           margin-left: 20px;
       }
       .s6 .icon1{
           margin-top: 50px;
       }

       .s6 h6{
          font-size: 13px;
          margin-top: 0px;
          font-weight: 300;
       }

       .s6 .d1{
           display:flex;
           justify-content: space-evenly;
          padding-top: 20px;
          padding-bottom: 20px;
       }
       .s6 .input-container{
           border: none;
           border-bottom: 1px solid black;
           width: 250px;
           margin-bottom: 20px;
       }

        .s6 input{
            border: none;
            background-color: transparent;
            margin-bottom: 10px;
        }

        .s6 button{
            border: none;
            padding: 7px;
            background-color: black;
            color: white;
            border-radius: 20px;
            height: 40px;
            width: 80px;
            font-size: 13px;
        }

        .s6 button:hover{
            background-color: rgb(52, 52, 52);
            color: white;
        }


       
.arrow {
   position: fixed;
   bottom: 40px;
   right: 40px;
   background-color: black;
   width: 40px;
   height: 40px;
   border-radius: 50%;
   display: flex;
   align-items: center;
   justify-content: center;
   cursor: pointer;
   transition: opacity 0.3s, visibility 0.3s, transform 0.3s;
   opacity: 0;
   visibility: hidden;
   z-index: 1000;
}

.arrow img {
   width: 39px;
   height: 39px;
   filter: brightness(0) invert(1);
}

.arrow.show {
   opacity: 1;
   visibility: visible;
   transform: scale(1.05);
}

.arrow:hover {
   transform: scale(1.15);
   background-color: rgb(52, 52, 52);
}


        .page-btn{
          background-color: rgba(0, 0, 0, 0.859);
          border: none;
          color: white;
          padding: 10px;
          padding-inline: 20px;
          border-radius: 10px;
          margin-top: 40px;
        }
        .page-btn:hover{
            background-color:rgba(52, 52, 52, 0.666); 
        }
        .page-btn.active-page {
              background-color: rgba(52, 52, 52, 0.666);
            }


            .crd-top {
    position: relative;
    width: 100%;
    max-width: 600px;
}

.img-container img {
    width: 100%;
    display: block;
}

.cl5 {
    position: absolute;
    width: 100%;
    display: flex;
    justify-content: space-between;
    top: 0;
    left: 0;
    z-index: 10;
}

.tag {
    background-color: rgba(0, 0, 0, 0.7); 
    color: white;
    padding: 5px 10px;
    font-size: 12px;
    border-radius: 20px;
    font-weight: 500;
    margin-left: 10px;
    margin-top: 10px;
    height: 28px;
}

.fav {
    padding: 5px;
    border-radius: 50px;
    background-color: rgba(255, 255, 255, 0.627);
    border: none;
    margin-right: 10px;
    margin-top: 10px;
}

.fav:hover{
    background-color: white;
}

.fav img {
    height: 30px;
}

   body.dark-mode {
  background-color: #121212;
}


body.dark-mode .s1,
body.dark-mode .s6 {
  background-color: #1e1e1e;
  color: white;
}

body.dark-mode .overlay {
  background-color: rgba(0, 0, 0, 0.6);
}

body.dark-mode .btn1,
body.dark-mode .s6 button {
  background-color: white;
  color: black;
}

body.dark-mode .s6 input,
body.dark-mode .s6 .input-container {
  border-color: #ffffff;
}

body.dark-mode .arrow {
  background-color: white;
}

body.dark-mode .arrow img {
  filter: brightness(0); 
}

body.dark-mode a {
  color: #ccc;
}

body.dark-mode a:hover {
  color: #ffffff;
} 

body.dark-mode nav {
  background-color: #000000 !important; 
}


body.dark-mode nav .btn:hover {
  background-color: #666666 !important;
}

body.dark-mode .s3 .btn1 a{
    color: black;
}


.store-buttons {
      display: flex;
      flex-direction: column;
      gap: 10px;
      align-items: start; 
    }

    .store-buttons a img {
      height: 50px;
      transition: transform 0.2s;
      width: 180px;   
      height: auto; 
    }

    .store-buttons a:hover img {
      transform: scale(1.05);
    }
 @media (max-width: 991.98px) {
  .navbar-collapse {
    text-align: right;
  }

  .navbar-nav {
    align-items: flex-end;
    flex-direction: column;
  }

  .btns {
    justify-content: flex-end;
    flex-wrap: wrap;
    margin-bottom: 20px;
  }
}
 @media (max-width: 768px) {
        .s1 h1 {
            font-size: 1.75rem;
        }

        .s1 h6 {
            font-size: 1rem;
        }

        .filters .form-control,
        .filters select {
            font-size: 0.9rem;
        }

        .btn-group .btn {
            font-size: 0.9rem;
        }
    }

    @media (max-width: 480px) {
        .s1 h1 {
            font-size: 1.4rem;
        }

        .s1 h6 {
            font-size: 0.95rem;
        }

        .btn-group .btn {
            width: 100%;
        }
    }
    #translate{
  width: 40px;
  font-size: 18px;
  font-weight: 500;
}
   </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-white">
        <div class="container">
    
            <a class="navbar-brand d-flex align-items-center" href="index.html">
                <img src="https://marketplace.canva.com/EAF6nmbUlhg/1/0/1600w/canva-black-and-gold-flat-illustrative-real-estate-logo-Jj0rP4nw9ug.jpg" alt="Logo" class="logo">
            </a>
    
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
    
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
    <div class="w-100 d-flex flex-column align-items-end gap-3 gap-lg-0 flex-lg-row justify-content-lg-between">
        <ul class="navbar-nav gap-4">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html" tr="1">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="services.html" tr="2">Services</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="blog.html" tr="3">Blog</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about-us.html" tr="4">About Us</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="careers.html" tr="5">Careers</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contacts.html" tr="6">Contacts</a>
                    </li>
                </ul>
    
                <div class="btns d-flex gap-3">
                    <button class="btn" id="favorites" onclick="window.location.href='favorites.html'"><img class="bti" src="https://cdn-icons-png.flaticon.com/128/2767/2767018.png"></button>
                    <button class="btn" id="translate"><img class="bti" src="https://cdn-icons-png.flaticon.com/128/2889/2889312.png"></button>
                    <button id="darkToggleBtn" class="btn">
                        <img class="bti" src="https://cdn-icons-png.flaticon.com/128/12301/12301305.png">
                         </button>
                 <div id="auth-section">
                    <button class="btn" onclick="window.location.href='login.html'">
                             <img class="bti" src="https://cdn-icons-png.flaticon.com/128/12500/12500060.png">
                     </button></div>

                </div>
            </div>
        </div>
    </nav>

<section  class="py-5" style="width:100%;">
    <div class="s1 container text-center py-5" style="width:90%;">
         <div class="overlay">
    <h1 tr="7">Enjoy The Finest Homes</h1>
    <h6 tr="8">From as low as $10 per day with limited time offer discounts</h6>

  
  <div class="btn-group mt-4" role="group">
  <button class="btn bg-black text-white btn1" onclick="filterProducts('all')" tr="9">All</button>
  <button class="btn bg-black text-white btn2" onclick="filterProducts('for sale')" tr="10">Sale</button>
  <button class="btn bg-black text-white btn3" onclick="filterProducts('for rent')" tr="11">Rent</button>
</div>


    <div class="bg-white rounded p-4 shadow-sm">
        <div class=" filters row gx-3 gy-3">
          
            <div class="col-6 col-md-2"  id="rooms">
                <h6 class="text-secondary" tr="12">Rooms</h6>
                <select class="form-select">
                    <option tr="9" value="All">All</option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4+</option>
                </select>
            </div>

        
            <div class="col-6 col-md-2" id="type">
                <h6 class="text-secondary" tr="13">Type</h6>
                <select class="form-select">
                    <option tr="9" value="All">All</option>
                    <option tr="14" value="Apartment">Apartment</option>
                    <option tr="15" value="House">House</option>
                    <option tr="16" value="Office">Office</option>
                </select>
            </div>

       
            <div class="col-6 col-md-3" id="price">
                <h6 class="text-secondary" tr="17">Price</h6>
                <div class="d-flex align-items-center">
                    <input type="number" class="form-control me-1" tr="301"id="price-from" placeholder="From">
                    <span>$</span>
                    <input type="number" class="form-control ms-1" tr="302"id="price-to" placeholder="To">
                </div>
            </div>

             <div class="col-6 col-md-3" id="location">
                <h6 class="text-secondary" tr="18">Location</h6>
                <select class="form-select">
                   <option value="All" tr="9">All</option>
  <option value="Chisinau,Moldova" tr="19">Chisinau,Moldova</option>
  <option value="Bucharest,Romania" tr="20">Bucharest,Romania</option>
  <option value="New York,USA" tr="21">New York,USA</option>
  <option value="Barcelona,Spain" tr="22">Barcelona,Spain</option>
  <option value="Rome,Italy" tr="23">Rome,Italy</option>
  <option value="Paris,France" tr="24">Paris,France</option>
                </select>
            </div>

            <div class="col-12 col-md-2">
                <h6 class="text-secondary" style="opacity: 0;" tr="25">Search</h6>
                <button class="btn bg-black text-white w-100" id="search" tr="25">Search</button>
            </div>
        </div>
    </div>
</div>
</div>
</section>

<section class="s3" id="product-section">

</section>

<div id="pagination" class="d-flex justify-content-center mt-4 mb-5"></div>


 <section class="s6 py-4">
                <div class="container">
                  
                    <div class="d-flex flex-wrap align-items-center justify-content-between mb-3">
                        <div class="mb-3 mb-md-0">
                            <img class="logo" src="https://marketplace.canva.com/EAF6nmbUlhg/1/0/1600w/canva-black-and-gold-flat-illustrative-real-estate-logo-Jj0rP4nw9ug.jpg" alt="Logo">
                        </div>
                          <div class="icon1 d-flex flex-wrap align-items-center gap-3">
                            <h6 tr="113">Follow Us</h6>
                            <div style="background-color: #e5e5e5; border-radius: 10px; padding: 5px; padding-left: 0px;">
                            <img class="icon" src="https://cdn-icons-png.flaticon.com/128/1051/1051309.png" alt="Facebook">
                            <img class="icon" src="https://cdn-icons-png.flaticon.com/128/3536/3536569.png" alt="Instagram">
                            <img class="icon" src="https://cdn-icons-png.flaticon.com/128/5968/5968830.png" alt="Twitter">
                            <img class="icon" src="https://cdn-icons-png.flaticon.com/128/1400/1400829.png" alt="LinkedIn">
                          </div>
                        </div>
                    </div>
            
                    <hr>
            
                    <div class="d-flex flex-wrap justify-content-between text-center text-md-start gap-4">
                        <div class="flex-item">
                            <h5 tr="114">Subscribe</h5>
                            <div class="input-container d-flex">
                                <input type="text" placeholder="Email" class="form-control">
                                <button class="btn" tr="115">Send</button>
                            </div>
                            <h6 tr="116">Subscribe to our newsletter to receive our weekly feed.</h6>
                        </div>
            
                          <div class="flex-item">
                            <h5 tr="117">Discover</h5>
                            <h6 tr="118">Chisinau</h6>
                            <h6 tr="119">Rome</h6>
                            <h6 tr="120">Bucuresti</h6>
                            <h6 tr="121">Barcelona</h6>
                            <h6 tr="122">Paris</h6>
                        </div>
            
                        <div class="flex-item">
                            <h5 tr="123">Quick links</h5>
                            <a><h6 tr="124">About us</h6></a>
                            <a><h6 tr="125">Contacts</h6></a>
                            <a><h6 tr="126">Blog</h6></a>
                            <a><h6 tr="127">FAQ's</h6></a>
                            <a><h6 tr="128">Pricing Plans</h6></a>
                            <a><h6 tr="129">Privacy Policy</h6></a>
                            <a><h6 tr="130">Terms & Conditions</h6></a>
                        </div>
            
                        <div class="flex-item">
                            <h5 tr="132">Contact Us</h5>
                            <h6>hi@justhome.com</h6>
                            <h6>+373 22 000 111</h6>
                        </div>
            
                        <div class="flex-item">
                            <h5 tr="133">Our Addresses</h5>
                            <h6>Strada Teiului 42, Chi탳in캒u,<br> MD-2025, Moldova</h6>
                            <h6>Strada Fagului 18, Sector 3,<br> Bucure탳ti, 031512, Rom칙nia</h6>
                        </div>
            
                        <div class="flex-item">
                            <h5 tr="134">Get the app</h5>
                                                      <div class="store-buttons">
  <a href="https://play.google.com/store" target="_blank" rel="noopener">
    <img src="https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg" alt="Get it on Google Play">
  </a>

  <a href="https://www.apple.com/app-store/" target="_blank" rel="noopener">
    <img src="https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg" alt="Download on the App Store">
  </a>
</div>
                        </div>
                    </div>
            
                    <hr>
            
                    <h6 class="text-center">Copyright &copy; 2025 JustHome</h6>
                </div>
            </section>

<div id="scrollTopBtn" class="arrow">
    <img src="https://cdn-icons-png.flaticon.com/128/16834/16834399.png">
</div>

<script>
  const scrollTopBtn = document.getElementById('scrollTopBtn');

  window.addEventListener('scroll', () => {
    const scrollPosition = window.scrollY;
    const middleOfPage = document.documentElement.scrollHeight / 2;

    if (scrollPosition > middleOfPage) {
      scrollTopBtn.classList.add('show');
    } else {
      scrollTopBtn.classList.remove('show');
    }
  });

  scrollTopBtn.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });

  let currentPage = 1;
  const itemsPerPage = 9;
  let productsData = [];
  let filteredProducts = [];

  function getFilterFromURL() {
    const params = new URLSearchParams(window.location.search);
    return params.get('filter') || 'all';
  }

let selectedTagFilter = 'all'; 

function filterProducts(tag) {
  selectedTagFilter = tag.toLowerCase();

  currentPage = 1;

  document.querySelectorAll('.btn-group .btn').forEach(btn => {
    if (btn.textContent.toLowerCase() === tag.toLowerCase() || btn.getAttribute('onclick')?.includes(tag)) {
      btn.classList.add('selected');
    } else {
      btn.classList.remove('selected');
    }
  });


  if (selectedTagFilter === 'all') {
    filteredProducts = productsData;
  } else {
    filteredProducts = productsData.filter(product => product.tag.toLowerCase() === selectedTagFilter);
  }

  renderProducts(currentPage);
}


  function renderProducts(page) {
    const container = document.getElementById("product-section");
    container.innerHTML = "";

    const start = (page - 1) * itemsPerPage;
    const end = start + itemsPerPage;
    const pageItems = filteredProducts.slice(start, end);

    for (let i = 0; i < pageItems.length; i += 3) {
      const row = document.createElement("div");
      row.className = "row d-flex justify-content-center gap-5 mt-4";

      const items = pageItems.slice(i, i + 3);

      items.forEach((item) => {
        const card = document.createElement("div");
card.className = "crd product-card";

card.dataset.id = item.id;
card.dataset.name = item.name;
card.dataset.price = item.price;
card.dataset.image = item.images[0];
card.dataset.tag = item.tag;
card.dataset.address = item.address;
card.dataset.beds = item.beds;
card.dataset.baths = item.baths;
card.dataset.area = item.area;
const isFavorited = (JSON.parse(localStorage.getItem("favorites")) || []).some(fav => fav.id === item.id);
const heartIcon = isFavorited
  ? "https://cdn-icons-png.flaticon.com/128/833/833472.png"
  : "https://cdn-icons-png.flaticon.com/128/2767/2767018.png";

        card.innerHTML = `
           <div class="crd-top">
    <div class="d-flex justify-content-between cl5">
        <div class="tag">
            <span>${item.tag}</span>
        </div>
        <div>
            <button class="fav" onclick="addToFavorites(event, this)" data-favorited="${isFavorited}">
    <img src="${heartIcon}" alt="Favorite Icon">
</button>

        </div>
    </div>
    <div class="img-container">
        <img src="${item.images[0]}">
    </div>
</div>
          <div class="crd-b">
            <div class="d-flex justify-content-between mt-2">
              <h5 class="txt1">${item.name}</h5>
              <h6 class="price">${item.price}</h6>
            </div>
            <div class="d-flex mt-2">
              <img class="icon" src="https://cdn-icons-png.flaticon.com/128/2838/2838912.png">
              <h6>${item.address}</h6>
            </div>
            <div class="d-flex mt-3">
              <img class="icon me-2" src="https://cdn-icons-png.flaticon.com/128/9639/9639764.png">
              <h6 class="txt2">${item.beds}</h6>
              <span class="text-grey mx-2">|</span>
              <img class="icon me-2" src="https://cdn-icons-png.flaticon.com/128/333/333447.png">
              <h6 class="txt2">${item.baths}</h6>
              <span class="text-grey mx-2">|</span>
              <img class="icon me-2" src="https://cdn-icons-png.flaticon.com/128/54/54725.png">
              <h6 class="txt2">${item.area}</h6>
            </div>
          </div>`;

        card.addEventListener('click', () => {
          localStorage.setItem('selectedProductId', item.id);
          window.location.href = 'product.html';
        });

        row.appendChild(card);
      });

      container.appendChild(row);
    }

    renderPagination();
  }

  function renderPagination() {
    const paginationContainer = document.getElementById("pagination");
    paginationContainer.innerHTML = "";

    const totalPages = Math.ceil(filteredProducts.length / itemsPerPage);

    for (let i = 1; i <= totalPages; i++) {
      const btn = document.createElement("button");
      btn.textContent = i;
      btn.className = "page-btn mx-1";

      if (i === currentPage) {
        btn.classList.add("active-page");
      }

      btn.addEventListener("click", () => {
        currentPage = i;
        renderProducts(currentPage);
        window.scrollTo({ top: 400, behavior: "smooth" });
      });

      paginationContainer.appendChild(btn);
    }
  }

document.getElementById('search').addEventListener('click', function () {
  const roomValue = document.querySelector('#rooms select').value;
  const typeValue = document.querySelector('#type select').value;
  const locationValue = document.querySelector('#location select').value;

const priceFromInput = document.querySelector('#price-from').value;
const priceToInput = document.querySelector('#price-to').value;

  filteredProducts = productsData.filter(product => {
    const productPrice = parseFloat(product.price.replace('$', '').replace(',', '')) || 0;
    const productBeds = parseInt(product.beds) || 0;
    const productTag = product.tag.toLowerCase();


    const matchTag = selectedTagFilter === 'all' || productTag === selectedTagFilter;

    const matchRooms =
      roomValue === 'All' ||
      (roomValue === '4+' ? productBeds >= 4 : productBeds === parseInt(roomValue));

    const matchType = typeValue === '' || typeValue === 'All' || product.type === typeValue;
    const matchLocation = locationValue === 'All' || product.location === locationValue;

    const matchPriceFrom = !priceFromInput || productPrice >= parseFloat(priceFromInput);
    const matchPriceTo = !priceToInput || productPrice <= parseFloat(priceToInput);

    return matchTag && matchRooms && matchType && matchLocation && matchPriceFrom && matchPriceTo;
  });

  currentPage = 1;
  renderProducts(currentPage);
});
function applyFiltersFromURL() {
  const params = new URLSearchParams(window.location.search);

  const rooms = params.get('rooms') || 'All';
  const type = params.get('type') || 'All';
  const location = params.get('location') || 'All';
  const priceFrom = params.get('priceFrom') || '';
  const priceTo = params.get('priceTo') || '';

  document.querySelector('#rooms select').value = rooms;
  document.querySelector('#type select').value = type;
  document.querySelector('#location select').value = location;
  document.querySelector('#price-from').value = priceFrom;
  document.querySelector('#price-to').value = priceTo;


  filteredProducts = productsData.filter(product => {
    const productPrice = parseFloat(product.price.replace('$', '').replace(',', '')) || 0;
    const productBeds = parseInt(product.beds) || 0;
    const productTag = product.tag.toLowerCase();

   
    const selectedTagFilter = 'all';

    const matchTag = selectedTagFilter === 'all' || productTag === selectedTagFilter;

    const matchRooms =
      rooms === 'All' ||
      (rooms === '4+' ? productBeds >= 4 : productBeds === parseInt(rooms));

    const matchType = type === '' || type === 'All' || product.type === type;
    const matchLocation = location === 'All' || product.location === location;

    const matchPriceFrom = !priceFrom || productPrice >= parseFloat(priceFrom);
    const matchPriceTo = !priceTo || productPrice <= parseFloat(priceTo);

    return matchTag && matchRooms && matchType && matchLocation && matchPriceFrom && matchPriceTo;
  });

  currentPage = 1;
  renderProducts(currentPage);
}




  fetch("products.json")
    .then(res => res.json())
    .then(data => {
      productsData = data;
      filterProducts(getFilterFromURL());
    })
    .catch(error => console.error("Error loading products:", error));

window.addEventListener('DOMContentLoaded', applyFiltersFromURL);

function addToFavorites(event, button) {
    event.stopPropagation();

    const card = button.closest(".product-card");

    const product = {
        id: card.dataset.id,
        name: card.dataset.name,
        price: card.dataset.price,
        image: card.dataset.image,
        tag: card.dataset.tag,
        address: card.dataset.address,
        beds: card.dataset.beds,
        baths: card.dataset.baths,
        area: card.dataset.area
    };

    let favorites = JSON.parse(localStorage.getItem("favorites")) || [];
    const index = favorites.findIndex(item => item.id === product.id);

    if (index === -1) {
        favorites.push(product);
        localStorage.setItem("favorites", JSON.stringify(favorites));
        button.querySelector("img").src = "https://cdn-icons-png.flaticon.com/128/833/833472.png"; 
        button.setAttribute("data-favorited", "true");
    } else {
        favorites.splice(index, 1);
        localStorage.setItem("favorites", JSON.stringify(favorites));
        button.querySelector("img").src = "https://cdn-icons-png.flaticon.com/128/2767/2767018.png"; 
        button.setAttribute("data-favorited", "false");
    }
}



const toggleButton = document.getElementById("darkToggleBtn");

toggleButton.addEventListener("click", () => {
  document.body.classList.toggle("dark-mode");

  if (document.body.classList.contains("dark-mode")) {
    localStorage.setItem("darkMode", "enabled");
  } else {
    localStorage.setItem("darkMode", "disabled");
  }
});

const savedDarkMode = localStorage.getItem("darkMode");




let currentLang = localStorage.getItem("lang") || "en"; 
const translateButton = document.getElementById("translate");

translateButton.textContent = currentLang === "en" ? "RO" : "EN";

translateButton.addEventListener("click", () => {
  currentLang = currentLang === "en" ? "ro" : "en";
  localStorage.setItem("lang", currentLang);
  applyTranslations();
  
  translateButton.textContent = currentLang === "en" ? "RO" : "EN";
});

function applyTranslations() {
  document.querySelectorAll("[tr]").forEach(el => {
    const key = el.getAttribute("tr");
    if (translations[currentLang][key]) {
      el.textContent = translations[currentLang][key];
    }
  });
}


const translations = {
  "en": {
  "1": "Home",
  "2": "Services",
  "3": "Blog",
  "4": "About Us",
  "5": "Careers",
  "6": "Contacts",
   "7": "Enjoy The Finest Homes",
    "8": "From as low as $10 per day with limited time offer discounts",
    "9": "All",
    "10": "Sale",
    "11": "Rent",
    "12": "Rooms",
    "13": "Type",
    "14": "Apartment",
    "15": "House",
    "16": "Office",
    "17": "Price",
    "18": "Location",
    "19": "Chisinau, Moldova",
    "20": "Bucharest, Romania",
    "21": "New York, USA",
    "22": "Barcelona, Spain",
    "23": "Rome, Italy",
    "24": "Paris, France",
    "25": "Search",
  "113": "Follow Us",
  "114": "Subscribe",
  "115": "Send",
  "116": "Subscribe to our newsletter to receive our weekly feed.",
  "117": "Discover",
  "118": "Chisinau",
  "119": "Rome",
  "120": "Bucharest",
  "121": "Barcelona",
  "122": "Paris",
  "123": "Quick links",
  "124": "About us",
  "125": "Contacts",
  "126": "Blog",
  "127": "FAQ's",
  "128": "Pricing Plans",
  "129": "Privacy Policy",
  "130": "Terms & Conditions",
  "132": "Contact Us",
  "133": "Our Addresses",
  "134": "Get the app",
  "301": "From",
  "302": "To"
  },
     "ro": {
  "1": "Acas캒",
  "2": "Servicii",
  "3": "Blog",
  "4": "Despre Noi",
  "5": "Cariere",
  "6": "Contacte",
  "7": "Bucur캒-te de cele mai bune locuin탵e",
  "8": "De la doar 10$ pe zi cu reduceri valabile pentru o perioad캒 limitat캒",
  "9": "Toate",
  "10": "V칙nzare",
  "11": "칉nchiriere",
  "12": "Camere",
  "13": "Tip",
  "14": "Apartament",
  "15": "Cas캒",
  "16": "Birou",
  "17": "Pre탵",
  "18": "Loca탵ie",
  "19": "Chi탳in캒u, Moldova",
  "20": "Bucure탳ti, Rom칙nia",
  "21": "New York, SUA",
  "22": "Barcelona, Spania",
  "23": "Roma, Italia",
  "24": "Paris, Fran탵a",
  "25": "Caut캒",
  "113": "Urm캒re탳te-ne",
  "114": "Aboneaz캒-te",
  "115": "Trimite",
  "116": "Aboneaz캒-te la newsletter-ul nostru pentru a primi actualiz캒rile s캒pt캒m칙nale.",
  "117": "Descoper캒",
  "118": "Chi탳in캒u",
  "119": "Roma",
  "120": "Bucure탳ti",
  "121": "Barcelona",
  "122": "Paris",
  "123": "Link-uri rapide",
  "124": "Despre noi",
  "125": "Contacte",
  "126": "Blog",
  "127": "칉ntreb캒ri frecvente",
  "128": "Planuri tarifare",
  "129": "Politica de confiden탵ialitate",
  "130": "Termeni 탳i condi탵ii",
  "132": "Contacteaz캒-ne",
  "133": "Adresele Noastre",
  "134": "Descarc캒 aplica탵ia",
  "301": "De la",
  "302": "P칙n캒 la"
}
  }
  

  
 function logout() {
    localStorage.removeItem("username");
    updateAuthSection();
  }

  function updateAuthSection() {
    const authSection = document.getElementById("auth-section");
    const username = localStorage.getItem("username");

    if (authSection) {
      if (username) {
        authSection.innerHTML = `
          <span style="margin-right: 10px;">游녻 ${username}</span>
          <button class="btn" onclick="logout()">
            <img class="bti" src="https://cdn-icons-png.flaticon.com/128/1629/1629082.png">
          </button>
        `;
      } else {
        authSection.innerHTML = `
          <button class="btn" onclick="window.location.href='login.html'">
            <img class="bti" src="https://cdn-icons-png.flaticon.com/128/12500/12500060.png">
          </button>
        `;
      }
    }
  }

  
  applyTranslations();

  if (savedDarkMode === "enabled") {
  document.body.classList.add("dark-mode");
}
document.addEventListener("DOMContentLoaded", updateAuthSection);

</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
